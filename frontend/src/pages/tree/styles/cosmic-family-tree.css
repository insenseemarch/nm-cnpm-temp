/* Cosmic Family Tree Custom Styling */

/* Debug visibility */
[id*="tree_main"] {
  background: rgba(255, 0, 0, 0.1) !important; /* Red background for debugging */
  min-height: 600px !important;
  overflow: visible !important;
}

.family-chart-container {
  background: transparent !important;
  overflow: visible !important;
  min-height: 600px !important;
}

.family-chart-container .main_svg,
.family-chart-container div[class*="main_svg"] {
  overflow: visible !important;
  clip: none !important;
  clip-path: none !important;
}

.family-chart-container svg {
  overflow: visible !important;
  clip: none !important;
  clip-path: none !important;
}

.family-chart-container * {
  clip: none !important;
  clip-path: none !important;
  mask: none !important;
}

.cosmic-family-card {
  backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(114, 233, 251, 0.2) !important;
  border-radius: 16px !important;
  padding: 16px !important;
  color: #ffffff !important;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.4),
    0 0 20px rgba(114, 233, 251, 0.1) !important;
  transition: all 0.3s ease !important;
  min-height: 200px !important;
  width: 160px !important;
}

.cosmic-family-card:hover {
  transform: translateY(-4px) !important;
  box-shadow: 
    0 12px 48px rgba(0, 0, 0, 0.5),
    0 0 30px rgba(114, 233, 251, 0.2) !important;
  border-color: rgba(114, 233, 251, 0.4) !important;
}

/* IsMe card - clearly different from others */
.cosmic-family-card.is-me-card {
  border: 1px solid rgba(114, 233, 251, 0.9) !important;
  box-shadow: 
    0 0 16px 2px rgba(114, 233, 251, 0.5),
    0 0 8px 3px rgba(114, 233, 251, 0.3),
    0 8px 32px rgba(0, 0, 0, 0.4) !important;
  background: rgba(17, 17, 27, 0.95) !important;
  animation: isMe-pulse 4s ease-in-out infinite;
}

.cosmic-family-card.is-me-card:hover {
  transform: translateY(-6px) scale(1.02) !important;
  box-shadow: 
    0 0 20px 3px rgba(114, 233, 251, 0.7),
    0 0 12px 4px rgba(114, 233, 251, 0.4),
    0 16px 56px rgba(0, 0, 0, 0.6) !important;
}

@keyframes isMe-pulse {
  0%, 100% { 
    box-shadow: 
      0 0 16px 2px rgba(114, 233, 251, 0.5),
      0 0 8px 3px rgba(114, 233, 251, 0.3),
      0 8px 32px rgba(0, 0, 0, 0.4);
  }
  50% { 
    box-shadow: 
      0 0 20px 3px rgba(114, 233, 251, 0.6),
      0 0 10px 4px rgba(114, 233, 251, 0.4),
      0 8px 32px rgba(0, 0, 0, 0.4);
  }
}

.family-chart-container .card {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

.family-chart-container .card-body {
  padding: 0 !important;
}

.family-chart-container .link,
.family-chart-container path {
  stroke: #ffffff !important;
  stroke-width: 3px !important;
  fill: none !important;
  opacity: 0.9 !important;
}

.family-chart-container .link.marriage {
  stroke: #ffffff !important;
  stroke-width: 4px !important;
}

.family-chart-container .link.parent-child {
  stroke: rgba(114, 233, 251, 0.8) !important;
  stroke-width: 3px !important;
}

.text-blue-400 { color: #60a5fa !important; }
.text-pink-300 { color: #f472b6 !important; }
.text-purple-400 { color: #a78bfa !important; }
.border-blue-400 { border-color: #60a5fa !important; }
.border-pink-300 { border-color: #f472b6 !important; }
.border-purple-400 { border-color: #a78bfa !important; }
.bg-accent\/20 { background-color: rgba(114, 233, 251, 0.2) !important; }
.border-accent\/30 { border-color: rgba(114, 233, 251, 0.3) !important; }
.text-foreground { color: #ffffff !important; }
.text-muted-foreground { color: rgba(255, 255, 255, 0.7) !important; }

@media (max-width: 768px) {
  .cosmic-family-card {
    width: 120px !important;
    min-height: 160px !important;
    padding: 12px !important;
  }
  
  .cosmic-family-card .w-20 {
    width: 60px !important;
    height: 60px !important;
  }
}

/* Custom styling for family tree nodes */
.cosmic-family-card {
  background: rgba(17, 17, 27, 0.9) !important;
  backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(114, 233, 251, 0.2) !important;
  border-radius: 16px !important;
  padding: 16px !important;
  color: #ffffff !important;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.4),
    0 0 20px rgba(114, 233, 251, 0.1) !important;
  transition: all 0.3s ease !important;
  min-height: 180px !important;
  width: 140px !important;
  overflow: visible !important;
}

.cosmic-family-card:hover {
  transform: translateY(-4px) !important;
  box-shadow: 
    0 12px 48px rgba(0, 0, 0, 0.5),
    0 0 30px rgba(114, 233, 251, 0.2) !important;
  border-color: rgba(114, 233, 251, 0.4) !important;
}

/* Override default family-chart card styles */
.family-chart-container .card {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  overflow: visible !important;
}

.family-chart-container .card-body {
  padding: 0 !important;
  overflow: visible !important;
}

/* Connection lines styling - Enhanced visibility */
.family-chart-container .link {
  stroke: #ffffff !important;
  stroke-width: 3px !important;
  opacity: 0.9 !important;
  fill: none !important;
}

.family-chart-container .link.marriage {
  stroke: #ffffff !important;
  stroke-width: 4px !important;
  opacity: 1 !important;
}

.family-chart-container .link.parent-child {
  stroke: rgba(114, 233, 251, 0.8) !important;
  stroke-width: 3px !important;
  stroke-dasharray: none !important;
  opacity: 0.9 !important;
}

/* Ensure all path elements are visible */
.family-chart-container path {
  overflow: visible !important;
  stroke: #ffffff !important;
  stroke-width: 3px !important;
  fill: none !important;
  opacity: 0.9 !important;
}

/* Make sure container doesn't clip connections */
.family-chart-container > svg {
  overflow: visible !important;
  position: relative !important;
  z-index: 1 !important;
}

/* Gender-specific accent colors */
.text-blue-400 {
  color: #60a5fa !important;
}

.text-pink-300 {
  color: #f472b6 !important;
}

.text-purple-400 {
  color: #a78bfa !important;
}

.border-blue-400 {
  border-color: #60a5fa !important;
}

.border-pink-300 {
  border-color: #f472b6 !important;
}

.border-purple-400 {
  border-color: #a78bfa !important;
}

/* Cosmic generation badges */
.bg-accent\/20 {
  background-color: rgba(114, 233, 251, 0.2) !important;
}

.border-accent\/30 {
  border-color: rgba(114, 233, 251, 0.3) !important;
}

/* Typography */
.text-foreground {
  color: #ffffff !important;
}

.text-muted-foreground {
  color: rgba(255, 255, 255, 0.7) !important;
}

/* Avatar styling */
.cosmic-family-card img {
  border: 2px solid currentColor !important;
  transition: transform 0.3s ease !important;
}

.cosmic-family-card:hover img {
  transform: scale(1.05) !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .cosmic-family-card {
    width: 120px !important;
    min-height: 160px !important;
    padding: 12px !important;
  }
  
  .cosmic-family-card .w-20 {
    width: 60px !important;
    height: 60px !important;
  }
}